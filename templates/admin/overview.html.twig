{% extends 'admin/index.html.twig' %}

{% block pageTitle %}
Admin's Space
{% endblock %}
{% block styles %}
    {{ parent()}}
    <link href="{{asset('styles/Admin_Teacher_Student/dashboardAdmin.css')}}" rel="stylesheet">
{% endblock %}
{% block welcome %}
    <p class="username-nav">Welcome, {{ admin.username }}</p>
{% endblock %}
{% block verticalNav %}
    {{ parent() }}
{% endblock %}

{% block restOfNavBar %}
    {{ parent() }}
{% endblock %}

{% block firstNavElement %}active{% endblock %}

{% block secondNavElement %}{% endblock %}
{% block thirdNavElement %}{% endblock %}
{% block fourthNavElement %}{% endblock %}
{% block fifthNavElement %}{% endblock %}

{% block content %}
    <div class="row title">
            <div class="col-9 student-name-container">
                <h2 class="student-name">Overview</h2>
            </div>
        </div>
        <div class="card-container">
            <div class="card">
                <div class="row elements">
                    <div class="col-6 vertical">
                        <div class="row">
                            <h5>Number of Students Per Study Level</h5>
                        </div>
                        <div class="row">
                            <div class="studentsPerYearContainer">
                                <canvas id="studentsPerYearCanvas"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 vertical">
                        <div class="row">
                            <h5>Number of Students Per Field</h5>
                        </div>
                        <div class="row">
                            <div class="fieldContainer">
                                <canvas id="fieldCanvas"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-container">
            <div class="card">
                <div class="row elements">
                    <div class="col-6 vertical">
                        <div class="row">
                            <h5>Number of Recent Absences</h5>
                        </div>
                        <div class="row">
                            <div class="absenceContainer">
                                <canvas id="absenceCanvas"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-container">
            <div class="card">
                <div class="row elements">
                    <div class="col-6 vertical">
                        <div class="row">
                            <h5>Number of Students per Gender</h5>
                        </div>
                        <div class="row">
                            <div class="genderContainer">
                                <canvas id="genderCanvas"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 vertical">
                        <div class="row">
                            <h5>Number of Teachers per Course</h5>
                        </div>
                        <div class="row">
                            <div class="teachersPerCourseContainer">
                                <canvas id="teachersPerCourseCanvas"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            const studentStatistics = {{ studentsStatistics|json_encode|raw }};
            const absenceStatistics = {{ absencesStatistics|json_encode|raw }};
            const genderStatistics = {{ statsStudentsPerGender|json_encode|raw }};
            const fieldStatistics = {{ fieldStatistics|json_encode|raw }};
            const teacherStatistics = {{ teachersStatistics|json_encode|raw }};
        </script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>       
        <script src="{{asset('js/Admin_Teacher_Student/Admin/dashboardAdmin.js')}}" type="module"></script> 
{% endblock %}

